<h3>Game setup</h3>
<p>
    {{game().GameSetup}}
</p>

<ul class="cards" data-bind="foreach: game().CharactersInGame">
    <li><img class="card" data-bind="attr: { src: '/Images/' + $data + '.png', title: $data }" alt="{{$data}"  /></li>	
</ul>

<div class="clear"></div>    

<ul class="round-table" data-bind="foreach: game().RoundTables">
    <li>{{$data}}</li>    
</ul>

<div data-bind="visible: game().RoundTables().length == 0">
    This game only supports 5-10 players
</div>

<div data-bind="visible: game().PlayerInfo">
    <h3>Oracle</h3>
    <p>Mouse over each player card to see information you may know about them.</p>    
    <ul class="cards" data-bind="foreach: game().PlayerInfo">
		<li>
            <!--todo make clickable-->
			<img class="playercard" data-bind="attr: { src: image }, click: toggleShowActual" />
            <div class="playername">{{Name}}</div>
		</li>
    </ul>
    <!--todo show all-->
</div>

<div class="clear"></div>

<div data-bind="foreach: game().Rounds">
	<h3>
        {{Title}}
        <img  title="{{Outcome}}" data-bind="visible: Outcome, attr: { src: '/images/' + Outcome() + '.png' }" />
    </h3>
    <p>{{Summary}}</p>
	
    <div data-bind="foreach: Teams">
		<div class="quest">
            <div class="setup">
                <ul class="cards">
                    <li>
                        <img src="/Images/leadertoken.png" title="@team.Leader" />
                        <div class="playername">{{Leader}}</div>
                    </li>

                    <!-- ko foreach: TeamMembers -->
                        <li>
                            <img src="/Images/teamtoken.png" title="{{$data}}" />
                            <div class="playername">{{$data}}</div>
                        </li>
                    
                    <!-- /ko -->
                     <!-- ko foreach: Vote -->
                        <li>
                            <img class="vote" title="{{Player}}" data-bind="attr: { src: '/images/' + Image() + '.png' }" />
                            <div class="playername">{{Player}}</div>
                        </li>
                    <!-- /ko -->

                </ul>
            </div>
            <div class="clear"></div>
            <div class="results">
                <ul class="cards" data-bind="foreach: QuestCards">                    
                    <li> 
                        <img class="card" data-bind="attr: { src: '/images/' + Image() + '.png' }" />
                    </li>                    
                </ul>

            </div>
            <div class="clear"></div>

            <!-- ko foreach: Messages -->
            <div class="message">
                <span>{{Player}}</span>: <span>{{Message}}</span>
            </div>
            <!-- /ko -->

            <span class="warning">{{WaitingMessage}}</span>

		</div>
	</div>          
</div>

<div data-bind="visible: game().AssassinsGuessAtMerlin">
    <h3>Guess at merlin</h3>
    {{game().AssassinsGuessAtMerlin != null ? game().AssassinsGuessAtMerlin.Name : ''}}
</div>

<div data-bind="visible: game().GameOver">
    <h3>Game Over</h3>
    <p>{{game().GameState}}</p>
</div>

<ul data-bind="foreach: game().Actions">
    <li >
        <strong>{{$data}}</strong>
        <!--todo find nicer syntax for this-->
        <div data-bind="compose: { model: '/app/widgets/' + $data + '.js', view: '/app/widgets/' + $data + '.html', activationData: $root.game }"></div>
    </li>
</ul>

